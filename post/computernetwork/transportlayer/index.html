	<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.15" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title> 初识传输层 &middot; jsmeta </title>
  
  <link rel="stylesheet" href="http://jiangshanmeta.github.io/css/index.css">
  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

</head>

	<body class=" article-body">
		<nav class="article-nav">
			<a href="http://jiangshanmeta.github.io/">Home</a>
			<a href="http://jiangshanmeta.github.io/demo/index.html">前端作品</a>
			<a href="http://jiangshanmeta.github.io/categories/index.html">日志分类</a>
		</nav>
		<div class="article ">
			<div >
			  <h1 class="text-center">初识传输层</h1>
			  <p >Sun, Jul 24, 2016</p>
			      

<p>传输层位于应用层和网络层之间，是分层的网络体系结构的重要部分。作为WEB开发者虽然并不直接接触传输层，但是了解一下基本原理对于理解应用层还是有帮助的。</p>

<h2 id="传输层的功能:7d394745458fab98d1011e5dc7ce06d1">传输层的功能</h2>

<p>传输层的功能是为不同主机上的应用进程之间提供了<strong>逻辑通信</strong>。注意这里是逻辑通信，而不是物理通信，传输层是在端系统中实现的而不是在路由器中实现的。在发送端，传输层将从应用进程收到的报文转换成传输层报文段，添加传输层首部。在接收端，网络层从数据报中提取传输层报文，并将其交给传输层。传输层处理收到的报文段，为应用层提供数据。</p>

<p>常见的传输层协议有UDP和TCP。UDP为应用层提供了不可靠、无连接的服务，而TCP提供了可靠、面向连接的服务。</p>

<h2 id="多路复用-多路分解:7d394745458fab98d1011e5dc7ce06d1">多路复用/多路分解</h2>

<p>应用层和传输层之间不是直接交换数据，而是通过套接字socket。每一个套接字都有唯一标识符。</p>

<p>为了在不同主机之间标示套接字，需要在传输层报文中有几个字段。在接收端，传输层检查这些字段，标识出接收套接字，进而将报文段定向到套接字。将传输层报文中的数据交付到正确的套接字的工作称为<strong>多路分解</strong>。从源主机中不同套接字中收集数据块，为其封装首部信息，然后将报文段传给网络层，这些工作称为<strong>多路复用</strong>。</p>

<p>在UDP中一个套接字是通过 目的IP和目的端口号标示的。在TCP中一个套接字是通过 源IP地址、源端口号、目的IP地址、目的端口号标示的。</p>

<h2 id="udp协议:7d394745458fab98d1011e5dc7ce06d1">UDP协议</h2>

<p>UDP协议为应用层提供了不可靠、无连接的服务。UDP是应用层协议比较简单的实现，能提供的功能仅有多路复用/多路分用和差错检验。</p>

<p>先说一下UDP报文的结构。传输层报文是在应用层报文基础上添加了首部信息，即传输层报文 = 传输层首部 + 应用信息。我们的关注点显然是首部字段。</p>

<p>UDP有四个首部，分别是：源端口号、目的端口号、长度、校验和。源端口号和目的端口号是多路复用/多路分用的基础，长度字段指明了UDP报文的字节数（首部+数据）。校验和是为了差错检验功能。然而不幸的是UDP协议仅仅能够发现错误，但无法从错误中恢复出来，所以UDP协议无法提供可靠地数据传输。</p>

<p>应用UDP协议的应用，一般是对数据可靠性要求没那么高的，比如DNS查询、网络电话、在线直播之类的。</p>

<h2 id="可靠数据传输原理:7d394745458fab98d1011e5dc7ce06d1">可靠数据传输原理</h2>

<p>这个问题说实话有点大了，其实写一个系列丛书讨论这个问题都不为过。我这里就说点总结性的。</p>

<p>为了检验数据是否有差错，采用了校验和。</p>

<p>为了返回检查结果和接受信息，采用了反馈机制。</p>

<p>为了处理丢包，采用了超时机制。</p>

<p>为了处理数据错误和丢包，采用了重传机制（重传大法好）。</p>

<p>为了标识每一个分组、处理冗余分组、检测丢包，采取了序号。</p>

<p>为了解决管线化操作中的差错恢复，出现了回退N步和选择重传。</p>

<h2 id="tcp报文:7d394745458fab98d1011e5dc7ce06d1">TCP报文</h2>

<h2 id="tcp连接:7d394745458fab98d1011e5dc7ce06d1">TCP连接</h2>

<h2 id="tcp流量控制:7d394745458fab98d1011e5dc7ce06d1">TCP流量控制</h2>

<h2 id="tcp拥塞控制:7d394745458fab98d1011e5dc7ce06d1">TCP拥塞控制</h2>

<h2 id="从应用层角度看传输层:7d394745458fab98d1011e5dc7ce06d1">从应用层角度看传输层</h2>

			</div>


		</div>
		<script>
console.log("联系我吧   540118044@qq.com");
</script>   
  </body>
</html>
